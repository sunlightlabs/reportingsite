{% extends "buckley/buckley_base.html" %}

{% load buckley %}
{% load humanize %}

{% block breadcrumb %}{{ block.super }}
<li><a href="{% url buckley_committee_list %}">Committees</a></li>
<li>{{ object }}</li>
{% endblock breadcrumb %}

{% block content %}
<h2>{{ object }}</h2>

<div class="amountLine">
    Total amount spent on independent expenditures: <span class="amount">${{ object.total|intcomma }}</span>
</div>
<div class="clear"></div>

{% comment %}
{% if object.candidates_supported %}
<div class="fullWidth_columns">
    <h3 class="h4">Candidates Supported</h3>
    <ul>
        {% for candidate in object.candidates_supported %}
        <li><a href="{% url buckley_candidate_committee_detail candidate_slug=candidate.slug committee_slug=object.slug %}">{{ candidate }}</a>{% if candidate.party %} ({{ candidate.party }}) {% endif %}</li> 
        {% endfor %}
    </ul>
</div>
{% endif %}

{% if object.candidates_opposed %}
<div class="fullWidth_columns">
    <h3 class="h4">Candidates Opposed</h3>
    <ul>
        {% for candidate in object.candidates_opposed %}
        <li><a href="{% url buckley_candidate_committee_detail candidate_slug=candidate.slug committee_slug=object.slug %}">{{ candidate }}</a>{% if candidate.party %} ({{ candidate.party }}) {% endif %}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}
{% endcomment %}
<div class="clear"></div>


<table id="expendituresData" class="tablesorter">
    <thead>
        <tr>
            <th>Race</th>
            <th>Candidate</th>
            <th>Party</th>
            <th>Support/oppose</th>
            <th>Amount</th>
        </tr>
    </thead>
    <tbody>
        {% for candidate in object.candidates_supported %}
        <tr class="{% cycle 'odd' 'even' %}">
            <td>{{ candidate.race }}</td>
            <td><a href="{% url buckley_candidate_committee_detail candidate_slug=candidate.slug committee_slug=object.slug %}">{{ candidate }}</a></td>
            <td>{{ candidate.party }}</td>
            <td>Support</td>
            <td>${{ object|committee_candidate_money:candidate|intcomma }}</td>
        </tr>
        {% endfor %}
        {% for candidate in object.candidates_opposed %}
        <tr class="{% cycle 'odd' 'even' %}">
            <td>{{ candidate.race }}</td>
            <td><a href="{% url buckley_candidate_committee_detail candidate_slug=candidate.slug committee_slug=object.slug %}">{{ candidate }}</a></td>
            <td>{{ candidate.party }}</td>
            <td>Oppose</td>
            <td>${{ object|committee_candidate_money:candidate|intcomma }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% include "buckley/tablesorter.html" %}

{% endblock content %}
